<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>1-49 è³“æœæŠ½è™Ÿæ©Ÿ | 49-Number Bingo Caller</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #111827; color: #fff; }
        .number-display { font-family: 'Orbitron', sans-serif; text-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
        .history-ball { aspect-ratio: 1 / 1; transition: all 0.3s; }
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4" x-data="bingoCallerApp()">

    <!-- Header -->
    <header class="text-center mb-10">
        <h1 class="text-2xl font-bold text-blue-400 mb-1">ğŸ± 1-49 è³“æœæŠ½è™Ÿæ©Ÿ</h1>
        <p class="text-gray-400 text-xs uppercase tracking-widest">Bingo Number Caller</p>
    </header>

    <!-- Main Display -->
    <div class="w-full max-w-sm bg-gray-800 border-2 border-blue-500 rounded-3xl p-8 shadow-[0_0_50px_rgba(59,130,246,0.2)] flex flex-col items-center">
        <div class="text-xs text-blue-400 font-bold mb-2 tracking-tighter uppercase">Current Number</div>
        <div class="number-display text-8xl font-bold text-blue-500 mb-8 h-24 flex items-center justify-center" 
             x-text="currentNum || '--'"></div>
        
        <button @click="drawNumber()" 
                :disabled="pool.length === 0"
                class="w-full bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 text-white font-black py-4 rounded-2xl text-xl transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-3">
            <span x-show="pool.length > 0">æŠ½ä¸€å€‹è™Ÿç¢¼</span>
            <span x-show="pool.length === 0">è™Ÿç¢¼å·²æŠ½å®Œ</span>
        </button>
    </div>

    <!-- History Header -->
    <div class="mt-12 w-full max-w-md flex justify-between items-end border-b border-gray-700 pb-2 mb-4">
        <h2 class="text-sm font-bold text-gray-400 uppercase">å·²æŠ½å‡ºè™Ÿç¢¼ (<span x-text="drawn.length"></span>)</h2>
        <button @click="reset()" class="text-[10px] text-red-400 hover:text-red-300 font-bold underline">å…¨éƒ¨é‡ç½®</button>
    </div>

    <!-- History Grid -->
    <div class="w-full max-w-md grid grid-cols-7 gap-2">
        <template x-for="n in drawn.slice().reverse()" :key="n">
            <div class="history-ball bg-blue-900/50 border border-blue-500/30 rounded-full flex items-center justify-center text-sm font-bold text-blue-300"
                 x-text="n"></div>
        </template>
    </div>

    <!-- Empty History -->
    <div x-show="drawn.length === 0" class="mt-4 text-gray-600 text-sm italic">
        ç­‰å¾…æŠ½å‡ºç¬¬ä¸€å€‹è™Ÿç¢¼...
    </div>

    <script>
        function bingoCallerApp() {
            return {
                pool: [],
                drawn: [],
                currentNum: null,

                init() {
                    this.reset();
                },

                reset() {
                    if (this.drawn.length > 0 && !confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰ç´€éŒ„ä¸¦é‡æ–°é–‹å§‹å—ï¼Ÿ')) return;
                    this.pool = Array.from({length: 49}, (_, i) => i + 1);
                    this.drawn = [];
                    this.currentNum = null;
                },

                drawNumber() {
                    if (this.pool.length === 0) return;
                    
                    const idx = Math.floor(Math.random() * this.pool.length);
                    const num = this.pool.splice(idx, 1)[0];
                    
                    this.currentNum = num;
                    this.drawn.push(num);
                }
            }
        }
    </script>
</body>
</html>
