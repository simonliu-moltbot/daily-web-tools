<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å¼ CP å€¼å¯©åˆ¤å®˜ âš–ï¸ | å°ç£æ—¥å¸¸å·¥å…·</title>
    <meta name="description" content="æƒ³è²·æ±è¥¿åˆæ€•è¢«ç¬‘ç›¤å­ï¼Ÿè¼¸å…¥åƒ¹æ ¼èˆ‡ä½¿ç”¨é »ç‡ï¼Œè®“å°å¼å¯©åˆ¤å®˜å¹«ä½ ç®—å‡ºçœŸå¯¦ CP å€¼ï¼é¿å…ç¹³æ™ºå•†ç¨…å¿…å‚™å·¥å…·ã€‚">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #fdf6e3; }
        .stamp {
            border: 4px solid currentColor;
            border-radius: 12px;
            display: inline-block;
            padding: 0.25rem 1rem;
            text-transform: uppercase;
            font-weight: 900;
            transform: rotate(-10deg);
            opacity: 0;
            animation: stamp-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        @keyframes stamp-in {
            0% { transform: scale(3) rotate(0deg); opacity: 0; }
            100% { transform: scale(1) rotate(-10deg); opacity: 0.8; }
        }
        .wobble { animation: wobble 2s infinite; }
        @keyframes wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #d97706; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #b45309; }
    </style>
</head>
<body class="bg-amber-50 text-stone-800 min-h-screen flex flex-col">

    <div id="app" class="flex flex-col min-h-screen">
        
        <!-- Navbar -->
        <nav class="bg-stone-900 text-amber-500 p-4 shadow-lg sticky top-0 z-50">
            <div class="max-w-2xl mx-auto flex justify-between items-center">
                <a href="../../index.html" class="flex items-center gap-2 hover:text-white transition group">
                    <span class="text-2xl group-hover:-translate-x-1 transition">â¬…ï¸</span>
                    <span class="font-bold tracking-wider">å›å·¥å…·åˆ—è¡¨</span>
                </a>
                <h1 class="font-black text-lg md:text-xl tracking-widest">âš–ï¸ CP å€¼å¯©åˆ¤å®˜</h1>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="flex-grow w-full max-w-2xl mx-auto p-4 md:p-8 space-y-8">

            <!-- Hero Section -->
            <div class="text-center space-y-2 py-4">
                <h2 class="text-3xl md:text-4xl font-black text-stone-800">
                    è²·é€™å€‹æ˜¯<span class="text-amber-600">ç›¤å­</span>é‚„æ˜¯<span class="text-green-600">è³ºåˆ°</span>ï¼Ÿ
                </h2>
                <p class="text-stone-500 font-medium text-lg">
                    è¼¸å…¥åƒ¹æ ¼èˆ‡ä½¿ç”¨é »ç‡ï¼Œè®“å¯©åˆ¤å®˜å¹«ä½ ç®—æ¸…æ¥šï¼<br>
                    <span class="text-xs text-stone-400">ï¼ˆé‚„æœ‰é˜¿å¬¤çš„ç¢ç¢å¿µé»è©•ï¼‰</span>
                </p>
            </div>

            <!-- Input Form Card -->
            <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 space-y-6 border-2 border-stone-100 relative overflow-hidden">
                <!-- Decorative background elements -->
                <div class="absolute -top-10 -right-10 w-32 h-32 bg-amber-100 rounded-full opacity-50 blur-2xl"></div>
                <div class="absolute -bottom-10 -left-10 w-32 h-32 bg-red-100 rounded-full opacity-50 blur-2xl"></div>

                <!-- Product Name -->
                <div class="space-y-2 relative z-10">
                    <label class="block text-sm font-bold text-stone-500 uppercase tracking-wider">æƒ³è²·ä»€éº¼é…·æ±è¥¿ï¼Ÿ</label>
                    <input type="text" v-model="form.name" placeholder="ä¾‹å¦‚ï¼šiPhone 16 Pro Max 1TB" 
                        class="w-full bg-stone-50 border-2 border-stone-200 rounded-xl px-4 py-3 text-lg font-bold focus:outline-none focus:border-amber-500 focus:bg-white transition shadow-inner placeholder-stone-300">
                </div>

                <!-- Price -->
                <div class="space-y-2 relative z-10">
                    <label class="block text-sm font-bold text-stone-500 uppercase tracking-wider">åƒ¹æ ¼ (TWD)</label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-stone-400 font-bold">$</span>
                        <input type="number" v-model.number="form.price" placeholder="58900" 
                            class="w-full bg-stone-50 border-2 border-stone-200 rounded-xl pl-10 pr-4 py-3 text-2xl font-black text-stone-800 focus:outline-none focus:border-amber-500 focus:bg-white transition shadow-inner">
                    </div>
                </div>

                <!-- Usage Frequency Config -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10">
                    <!-- Expected Lifespan -->
                    <div class="space-y-2">
                        <label class="block text-sm font-bold text-stone-500 uppercase tracking-wider">é è¨ˆç”¨å¤šä¹…ï¼Ÿ</label>
                        <div class="flex items-center gap-2">
                            <input type="number" v-model.number="form.years" min="0.1" step="0.1" 
                                class="w-24 bg-stone-50 border-2 border-stone-200 rounded-xl px-2 py-3 text-center font-bold text-lg focus:outline-none focus:border-amber-500 focus:bg-white transition">
                            <span class="font-bold text-stone-600">å¹´</span>
                            <div class="flex-1 flex gap-1 justify-end">
                                <button @click="form.years = 1" class="px-2 py-1 text-xs bg-stone-100 rounded hover:bg-stone-200 transition">1å¹´</button>
                                <button @click="form.years = 3" class="px-2 py-1 text-xs bg-stone-100 rounded hover:bg-stone-200 transition">3å¹´</button>
                                <button @click="form.years = 5" class="px-2 py-1 text-xs bg-stone-100 rounded hover:bg-stone-200 transition">5å¹´</button>
                            </div>
                        </div>
                    </div>

                    <!-- Frequency -->
                    <div class="space-y-2">
                        <label class="block text-sm font-bold text-stone-500 uppercase tracking-wider">ä½¿ç”¨é »ç‡ï¼Ÿ</label>
                        <select v-model="form.frequency" 
                            class="w-full bg-stone-50 border-2 border-stone-200 rounded-xl px-4 py-3 font-bold text-stone-800 focus:outline-none focus:border-amber-500 focus:bg-white transition appearance-none cursor-pointer">
                            <option value="365">æ¯å¤©ç”¨ (365æ¬¡/å¹´)</option>
                            <option value="250">å·¥ä½œæ—¥ç”¨ (250æ¬¡/å¹´)</option>
                            <option value="104">é€±æœ«ç”¨ (104æ¬¡/å¹´)</option>
                            <option value="52">æ¯é€±ä¸€æ¬¡ (52æ¬¡/å¹´)</option>
                            <option value="12">æ¯æœˆä¸€æ¬¡ (12æ¬¡/å¹´)</option>
                            <option value="1">æ¯å¹´ä¸€æ¬¡ (1æ¬¡/å¹´)</option>
                        </select>
                    </div>
                </div>

                <!-- Calculate Button -->
                <button @click="calculate" 
                    class="w-full bg-stone-900 text-amber-500 hover:text-amber-400 font-black text-xl py-4 rounded-xl shadow-xl hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all relative overflow-hidden group">
                    <span class="relative z-10 flex items-center justify-center gap-2">
                        <span>ğŸ”¨</span>
                        <span>é–‹åº­å¯©åˆ¤</span>
                    </span>
                    <div class="absolute inset-0 bg-stone-800 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                </button>

            </div>

            <!-- Result Section -->
            <div v-if="result" id="result" class="animate-fade-in space-y-6">
                
                <!-- Verdict Stamp Card -->
                <div class="bg-white border-4 border-stone-900 rounded-sm p-8 shadow-[8px_8px_0px_0px_rgba(28,25,23,1)] relative text-center">
                    
                    <!-- The Stamp -->
                    <div class="absolute top-4 right-4 md:top-8 md:right-8 transform rotate-12 z-20">
                        <div v-if="result.score >= 90" class="stamp text-green-600 border-green-600 text-4xl md:text-5xl">å‚³å®¶å¯¶</div>
                        <div v-else-if="result.score >= 70" class="stamp text-blue-600 border-blue-600 text-4xl md:text-5xl">è²·åˆ°è³ºåˆ°</div>
                        <div v-else-if="result.score >= 40" class="stamp text-amber-600 border-amber-600 text-4xl md:text-5xl">å‹‰å¼·åŠæ ¼</div>
                        <div v-else-if="result.score >= 20" class="stamp text-orange-600 border-orange-600 text-4xl md:text-5xl">æœ‰é»ç›¤</div>
                        <div v-else class="stamp text-red-600 border-red-600 text-4xl md:text-5xl">è¶…ç´šç›¤å­</div>
                    </div>

                    <h3 class="text-stone-400 font-bold uppercase tracking-widest text-sm mb-2">COST PER USE</h3>
                    <div class="text-6xl md:text-7xl font-black text-stone-800 mb-1 leading-none">
                        <span class="text-3xl align-top text-stone-400">$</span>{{ formatNumber(result.costPerUse) }}
                    </div>
                    <p class="text-stone-500 font-bold mb-6">æ¯æ¬¡ä½¿ç”¨çš„æˆæœ¬</p>

                    <div class="bg-stone-100 rounded-xl p-4 text-left space-y-3 mb-6">
                        <div class="flex justify-between items-center border-b border-stone-200 pb-2">
                            <span class="text-stone-500 font-bold">æ¯æ—¥æŒæœ‰æˆæœ¬</span>
                            <span class="font-bold text-xl">${{ formatNumber(result.costPerDay) }} / å¤©</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-stone-500 font-bold">ç¸½ä½¿ç”¨æ¬¡æ•¸</span>
                            <span class="font-bold text-xl">{{ formatNumber(result.totalUses) }} æ¬¡</span>
                        </div>
                    </div>

                    <!-- Comparison -->
                    <div class="bg-amber-50 rounded-xl p-6 border border-amber-200">
                        <p class="text-amber-800 font-bold mb-2">æ›ç®—æˆå¯¦æ„Ÿï¼š</p>
                        <p class="text-xl md:text-2xl font-black text-stone-800 leading-relaxed">
                            æ¯æ¬¡ä½¿ç”¨ç­‰æ–¼å°‘å– <span class="text-amber-600 text-3xl">{{ result.comparison.count }}</span> æ¯ {{ result.comparison.item }}
                            <span class="text-3xl align-middle">{{ result.comparison.emoji }}</span>
                        </p>
                    </div>

                </div>

                <!-- Auntie's Comment -->
                <div class="flex gap-4 items-start">
                    <div class="w-16 h-16 bg-pink-200 rounded-full flex-shrink-0 flex items-center justify-center text-3xl border-2 border-pink-300 overflow-hidden relative shadow-md">
                        ğŸ‘©â€ğŸ¦±
                    </div>
                    <div class="flex-1 bg-white p-5 rounded-2xl rounded-tl-none shadow-md border border-stone-100 relative">
                        <div class="absolute top-4 -left-2 w-4 h-4 bg-white border-l border-b border-stone-100 transform rotate-45"></div>
                        <p class="font-bold text-stone-600 mb-1 text-sm">éš”å£é˜¿å§¨èªªï¼š</p>
                        <p class="text-lg font-bold text-stone-800 leading-snug">
                            "{{ result.comment }}"
                        </p>
                    </div>
                </div>

                <!-- Share Button -->
                <button @click="shareResult" class="w-full bg-stone-200 hover:bg-stone-300 text-stone-600 font-bold py-3 rounded-xl transition flex justify-center items-center gap-2">
                    <span v-if="!copied">ğŸ“‹ è¤‡è£½çµæœå»å‹¸æ•—/å‹¸é€€</span>
                    <span v-else class="text-green-600">âœ… å·²è¤‡è£½ï¼</span>
                </button>

            </div>

        </main>

        <!-- Footer -->
        <footer class="bg-stone-900 text-stone-500 py-8 text-center mt-auto">
            <p class="text-sm mb-2">Created with ğŸ˜¡ & ğŸ’¸ by AI Agent</p>
            <p class="text-xs opacity-50">æœ¬å·¥å…·åƒ…ä¾›åƒè€ƒï¼Œè¡å‹•è³¼ç‰©è«‹è‡ªè¡Œè² è²¬ã€‚</p>
        </footer>

    </div>

    <script>
        const { createApp, reactive, ref, computed } = Vue;

        createApp({
            setup() {
                const form = reactive({
                    name: '',
                    price: null,
                    years: 2,
                    frequency: 365
                });

                const result = ref(null);
                const copied = ref(false);

                // Comparative Items
                const anchors = [
                    { price: 13, name: 'èŒ¶è‘‰è›‹', emoji: 'ğŸ¥š' },
                    { price: 25, name: 'ç§‘å­¸éºµ', emoji: 'ğŸœ' },
                    { price: 35, name: 'ç´”èŒ¶', emoji: 'ğŸµ' },
                    { price: 65, name: 'çå¥¶', emoji: 'ğŸ§‹' },
                    { price: 120, name: 'é›è…¿ä¾¿ç•¶', emoji: 'ğŸ±' },
                    { price: 183, name: 'åŸºæœ¬æ™‚è–ª', emoji: 'ğŸ’°' }, // 2024 min wage
                    { price: 350, name: 'å¨ç§€é›»å½±ç¥¨', emoji: 'ğŸ¬' },
                    { price: 800, name: 'åƒåˆ°é£½', emoji: 'ğŸ¥©' },
                    { price: 1500, name: 'é«˜éµåŒ—é«˜', emoji: 'ğŸš„' },
                    { price: 25000, name: 'å°ç©é›»é›¶è‚¡', emoji: 'ğŸ“ˆ' }
                ];

                const formatNumber = (num) => {
                    return num % 1 === 0 ? num.toLocaleString() : num.toFixed(1).toLocaleString();
                };

                const calculate = () => {
                    if (!form.price || form.price <= 0) {
                        alert("è€é—†ï¼Œä¸ç”¨éŒ¢çš„æ±è¥¿ CP å€¼ç„¡é™å¤§å•¦ï¼è«‹è¼¸å…¥åƒ¹æ ¼ã€‚");
                        return;
                    }

                    const totalUses = form.years * form.frequency;
                    const costPerUse = form.price / totalUses;
                    const costPerDay = form.price / (form.years * 365);
                    
                    // Simple Score Heuristic for "Worthiness"
                    // We need to scale based on absolute price too. 
                    // High cost per use is ok for very rare, amazing things? No, CP is about efficiency.
                    // Lower cost per use is always better.
                    
                    let score = 50; 
                    
                    // Base score logic
                    if (costPerUse < 5) score = 100;
                    else if (costPerUse < 15) score = 90;
                    else if (costPerUse < 50) score = 80;
                    else if (costPerUse < 100) score = 60;
                    else if (costPerUse < 300) score = 40;
                    else if (costPerUse < 1000) score = 20;
                    else score = 0;

                    // Generate Comparison
                    // Find the closest anchor that is smaller than costPerUse
                    let comparisonItem = anchors[0];
                    let count = (costPerUse / anchors[0].price).toFixed(1);

                    // Find best fit anchor
                    let bestFit = null;
                    for (let anchor of anchors) {
                        if (costPerUse >= anchor.price * 0.5) {
                            bestFit = anchor;
                        }
                    }
                    if(bestFit) {
                        comparisonItem = bestFit;
                        count = (costPerUse / bestFit.price).toFixed(1);
                    } else {
                        // Very cheap
                        comparisonItem = { price: 1, name: 'å¡ŠéŒ¢', emoji: 'ğŸª™' };
                        count = costPerUse.toFixed(1);
                    }

                    // Generate Auntie's Comment
                    let comment = "";
                    if (score >= 90) {
                        comment = "å¤­å£½å–”é€™éº¼ä¾¿å®œï¼ä½ æ˜¯åœ¨åšå–„äº‹å—ï¼Ÿè¶•å¿«è²·åå€‹å›å®¶å›¤ï¼";
                    } else if (score >= 80) {
                        comment = "é‚„å¯ä»¥å•¦ï¼Œç®—ä½ æœ‰åœ¨ç²¾æ‰“ç´°ç®—ï¼Œå¯ä»¥è²·å•¦ï¼";
                    } else if (score >= 60) {
                        comment = "æ˜¯æœ‰é»è²´å•¦ï¼Œé˜¿ä¸éå¦‚æœä¸è²·æœƒç¡ä¸è‘—ï¼Œé‚£å°±è²·å§...ä¸‹å€‹æœˆçœä¸€é»ã€‚";
                    } else if (score >= 40) {
                        comment = "å˜–å˜–å˜–...é€™åƒ¹æ ¼ä½ æ˜¯è¦åƒåœŸå–”ï¼Ÿæƒ³æ¸…æ¥šæï¼Œä¸è¦è²·äº†æ‰åœ¨é‚£é‚Šå“­ã€‚";
                    } else {
                        comment = "ä½ æ˜¯éŒ¢å¤ªå¤šæ²’åœ°æ–¹èŠ±å–”ï¼Ÿé€™ç¨®ç›¤å­åƒ¹ä½ ä¹Ÿè²·å¾—ä¸‹å»ï¼Ÿé˜¿å§¨æˆ‘çœ‹ä¸ä¸‹å»äº†ï¼";
                    }

                    result.value = {
                        costPerUse,
                        costPerDay,
                        totalUses,
                        score,
                        comparison: {
                            item: comparisonItem.name,
                            emoji: comparisonItem.emoji,
                            count: count
                        },
                        comment
                    };

                    // Scroll to result
                    setTimeout(() => {
                        const el = document.getElementById('result');
                        if(el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                };

                const shareResult = () => {
                    if (!result.value) return;
                    const text = `ã€å°å¼ CP å€¼å¯©åˆ¤å®˜ âš–ï¸ã€‘\næˆ‘ç®—éäº†ï¼Œ${form.name || 'é€™å€‹é…·æ±è¥¿'}...\næ¯æ¬¡ä½¿ç”¨æˆæœ¬ï¼š$${formatNumber(result.value.costPerUse)}\nç­‰æ–¼å°‘å– ${result.value.comparison.count} æ¯${result.value.comparison.item} ${result.value.comparison.emoji}\né˜¿å§¨èªªï¼š${result.value.comment}\nå¿«ä¾†ç®—ç®—ä½ çš„ï¼šhttps://simonliuyuwei.github.io/daily-web-tools/tools/cp-value-judge/`;
                    navigator.clipboard.writeText(text).then(() => {
                        copied.value = true;
                        setTimeout(() => copied.value = false, 2000);
                    });
                };

                return {
                    form,
                    result,
                    calculate,
                    formatNumber,
                    shareResult,
                    copied
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
