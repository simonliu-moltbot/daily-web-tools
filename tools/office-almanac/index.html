<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·å ´è€é»ƒæ›† | ç¤¾ç•œæ¯æ—¥é‹å‹¢æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Serif TC', serif;
            background-color: #f3f4f6;
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23e5e7eb' fill-opacity='0.4' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
        }
        .almanac-paper {
            background-color: #fffbef; /* Aged paper color */
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            background-image: radial-gradient(#d6d3d1 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .vertical-text {
            writing-mode: vertical-rl;
            text-orientation: upright;
            letter-spacing: 0.2em;
        }
        .stamp {
            mask-image: url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.5' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.5'/%3E%3C/svg%3E");
            mask-mode: alpha;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4 text-stone-800">

    <!-- Header / Nav -->
    <div class="w-full max-w-2xl mb-6 flex justify-between items-center">
        <a href="../../index.html" class="flex items-center gap-2 text-stone-600 hover:text-stone-900 transition-colors font-sans text-sm bg-white/80 px-4 py-2 rounded-full shadow-sm border border-stone-200 backdrop-blur-sm">
            <span>ğŸ </span> å›é¦–é 
        </a>
        <div class="text-stone-400 text-xs font-sans">Daily Office Horoscope</div>
    </div>

    <!-- Main Almanac Card -->
    <div class="w-full max-w-md almanac-paper border-4 border-red-800 p-6 relative overflow-hidden">
        
        <!-- Date Header -->
        <div class="flex justify-between items-end border-b-2 border-red-800 pb-4 mb-6">
            <div class="text-left">
                <div class="text-sm font-sans text-stone-500 mb-1" id="gregorian-date">2026-02-10</div>
                <div class="text-4xl font-black text-red-800 tracking-tighter" id="lunar-date">è¾²æ›†ä¸€æœˆå»¿ä¸‰</div>
            </div>
            <div class="text-right">
                <div class="bg-red-800 text-white px-3 py-1 text-xs font-bold mb-1 inline-block transform -rotate-2">ä»Šæ—¥é‹å‹¢</div>
                <div class="text-xl font-bold text-stone-800" id="weekday">æ˜ŸæœŸäºŒ</div>
            </div>
        </div>

        <!-- Yi / Ji Section -->
        <div class="grid grid-cols-2 gap-0 border-2 border-stone-800 mb-6">
            <!-- Yi (Auspicious) -->
            <div class="p-4 border-r-2 border-stone-800 bg-red-50/50">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-12 h-12 rounded-full bg-green-700 text-white flex items-center justify-center text-2xl font-black border-2 border-green-900 shadow-sm">
                        å®œ
                    </div>
                </div>
                <ul class="text-center space-y-3" id="yi-list">
                    <!-- Dynamic Content -->
                    <li class="font-bold text-xl text-stone-800">æ‘¸é­š</li>
                    <li class="font-bold text-xl text-stone-800">è¨‚é£²æ–™</li>
                </ul>
            </div>

            <!-- Ji (Ominous) -->
            <div class="p-4 bg-stone-50/50">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-12 h-12 rounded-full bg-red-700 text-white flex items-center justify-center text-2xl font-black border-2 border-red-900 shadow-sm">
                        å¿Œ
                    </div>
                </div>
                <ul class="text-center space-y-3" id="ji-list">
                    <!-- Dynamic Content -->
                    <li class="font-bold text-xl text-stone-400 line-through decoration-red-500 decoration-2">åŠ ç­</li>
                    <li class="font-bold text-xl text-stone-400 line-through decoration-red-500 decoration-2">é–‹æœƒ</li>
                </ul>
            </div>
        </div>

        <!-- Grid Info -->
        <div class="grid grid-cols-3 gap-2 text-center text-sm font-bold mb-6 font-sans">
            <div class="bg-stone-100 p-2 border border-stone-300 rounded">
                <div class="text-xs text-stone-500 mb-1">è²¡ç¥æ–¹ä½</div>
                <div class="text-red-700 font-black text-lg" id="direction-wealth">èŒ¶æ°´é–“</div>
            </div>
            <div class="bg-stone-100 p-2 border border-stone-300 rounded">
                <div class="text-xs text-stone-500 mb-1">å¹¸é‹è‰²</div>
                <div class="text-indigo-700 font-black text-lg" id="lucky-color">è—å±è—</div>
            </div>
            <div class="bg-stone-100 p-2 border border-stone-300 rounded">
                <div class="text-xs text-stone-500 mb-1">ä»Šæ—¥æ²–ç…</div>
                <div class="text-stone-700 font-black text-lg" id="clash">æ²–ä¸»ç®¡ ç…PM</div>
            </div>
        </div>

        <!-- Boss Quote -->
        <div class="border-t-2 border-red-800 pt-4 relative">
            <div class="text-center">
                <div class="text-xs text-stone-500 mb-2 font-sans tracking-widest uppercase">Daily Boss Quote</div>
                <div class="text-2xl font-black text-stone-800 leading-snug px-4 italic font-serif" id="boss-quote">
                    ã€Œå…±é«”æ™‚è‰±ã€
                </div>
            </div>
            
            <!-- Stamp -->
            <div class="absolute -bottom-2 -right-2 transform rotate-12 opacity-80 pointer-events-none">
                <div class="border-4 border-red-700 text-red-700 w-24 h-24 rounded-full flex items-center justify-center font-black text-lg stamp tracking-widest bg-white/10 backdrop-blur-sm rounded-full">
                    ç¤¾ç•œ<br>èªè­‰
                </div>
            </div>
        </div>

    </div>

    <!-- Actions -->
    <div class="mt-8 flex gap-4">
        <button onclick="shareToday()" class="bg-stone-800 hover:bg-stone-900 text-white font-bold py-3 px-6 rounded-lg shadow-lg flex items-center gap-2 transition font-sans transform hover:scale-105">
            ğŸ“¸ åˆ†äº«ä»Šæ—¥é‹å‹¢
        </button>
        <!-- Cheat Mode (Hidden/Fun) -->
        <button onclick="regenerate(true)" class="bg-white hover:bg-stone-100 text-stone-600 font-bold py-3 px-6 rounded-lg shadow border border-stone-200 font-sans text-sm transform hover:scale-105">
            ğŸ”„ æ”¹é‹
        </button>
    </div>

    <footer class="mt-12 text-center text-xs text-stone-400 font-sans">
        <p>åƒ…ä¾›å¨›æ¨‚ï¼Œè«‹å‹¿ä½œç‚ºé›¢è·åƒè€ƒ</p>
        <p class="mt-1">Created by AI Agent on 2026-02-10</p>
    </footer>

    <script>
        // Data Sets
        const YI = [
            "æ‘¸é­š", "è¨‚é£²æ–™", "æº–æ™‚ä¸‹ç­", "åˆ·104", "åœ˜è³¼", "å°¿é", "è£å¿™", "å¸¶è–ªæ‹‰å±", 
            "é‡é–‹æ©Ÿ", "ç½µå®¢æˆ¶(å¿ƒè£¡)", "å·²è®€ä¸å›", "çœ‹è¿·å› ", "æ—©é€€", "è«‹å‡", "ç™¼å‘†", "è£œçœ ", 
            "å»å»æ‰€æ»‘æ‰‹æ©Ÿ", "é–‹æœƒæ”¾ç©º", "å‡è£æ‰“å­—", "æ¸…ç†æ¡Œé¢"
        ];
        const JI = [
            "åŠ ç­", "é–‹æœƒ", "æéœ€æ±‚", "æ”¹éœ€æ±‚", "éƒ¨ç½²", "æ¥é›»è©±", "è¢«é»å", "ç›¸ä¿¡è€é—†", 
            "å–å…¨ç³–", "å¯«é€±å ±", "æ‰¿èªéŒ¯èª¤", "å¹«å¿™åŒäº‹", "çœ‹Email", "å›è¨Šæ¯", "è¶•æ­»ç·š", "æ›´æ–°ç³»çµ±", 
            "è·Ÿè€é—†å°åˆ°çœ¼", "ä¸»å‹•æå•", "å¹«åˆ¥äººèƒŒé‹", "å¿˜è¨˜å­˜æª”"
        ];
        const DIRECTIONS = ["èŒ¶æ°´é–“", "å»æ‰€", "é€ƒç”Ÿé–€", "æ©Ÿæˆ¿", "å¸è¸å€", "æ¨“æ¢¯é–“", "è€é—†è¾¦å…¬å®¤åæ–¹å‘", "ä¾¿åˆ©å•†åº—", "é›»æ¢¯å£", "é ‚æ¨“"];
        const COLORS = ["è—å±è—", "å ±è¡¨ç´…", "å’–å•¡é»‘", "çé‡‘é‡‘", "è­·è‚ç¶ ", "ç„¦æ…®ç°", "éå‹ç´«", "çœ¼åœˆé»‘", "æ–‡ä»¶ç™½"];
        const CLASHES = ["æ²–ä¸»ç®¡", "ç…PM", "æ²–å®¢æˆ¶", "ç…åŒäº‹", "æ²–éµç›¤", "ç…è¢å¹•", "æ²–WiFi", "ç…é‡˜é‡˜/Slack/Line", "æ²–å¹´çµ‚", "ç…åŠ ç­è²»"];
        const QUOTES = [
            "å…±é«”æ™‚è‰±", "å¹´è¼•äººè¦å¤šå­¸ç¿’", "æˆ‘å€‘æ˜¯å¤§å®¶åº­", "ä¸‹ç­å‰çµ¦æˆ‘", "ç°¡å–®å¼„ä¸€ä¸‹å°±å¥½", 
            "é ç®—æœ‰é™", "ä½ å¾ˆæœ‰æ½›åŠ›", "æˆ‘çœ‹å¥½ä½ ", "ä¸è¦å¤ªè¨ˆè¼ƒ", "é€™æ˜¯ç‚ºäº†ä½ å¥½", 
            "æ˜å¹´å¹«ä½ åŠ è–ª", "æœ€è¿‘æ¯”è¼ƒå¿™", "èƒ½è€…å¤šå‹", "å¹«æˆ‘çœ‹ä¸€ä¸‹", "é€™ä¸æ˜¯ä½ çš„KPIå—",
            "é€™ç¨®å°äº‹ä¸ç”¨å•æˆ‘", "é€™å€‹å¾ˆæ€¥", "ä½ è¦æœ‰Ownership", "è¦æœ‰Big Picture", "é€™å¾ˆç°¡å–®å§"
        ];

        // Seeded Random Function
        function mulberry32(a) {
            return function() {
              var t = a += 0x6D2B79F5;
              t = Math.imul(t ^ t >>> 15, t | 1);
              t ^= t + Math.imul(t ^ t >>> 7, t | 61);
              return ((t ^ t >>> 14) >>> 0) / 4294967296;
            }
        }

        function getSeedFromDate() {
            const d = new Date();
            // Create a unique integer for the day (e.g., 20260210)
            return d.getFullYear() * 10000 + (d.getMonth() + 1) * 100 + d.getDate();
        }

        // Shuffle utility
        function shuffle(array, rng) {
            let currentIndex = array.length,  randomIndex;
            let result = [...array];

            while (currentIndex != 0) {
                randomIndex = Math.floor(rng() * currentIndex);
                currentIndex--;
                [result[currentIndex], result[randomIndex]] = [result[randomIndex], result[currentIndex]];
            }
            return result;
        }

        function generate(seed, isRandom = false) {
            // If random, use current time as seed sort of
            const rng = isRandom ? Math.random : mulberry32(seed);
            
            // Shuffle and pick
            const shuffledYi = shuffle(YI, rng);
            const shuffledJi = shuffle(JI, rng);
            const shuffledDir = shuffle(DIRECTIONS, rng);
            const shuffledColor = shuffle(COLORS, rng);
            const shuffledClash = shuffle(CLASHES, rng);
            const shuffledQuotes = shuffle(QUOTES, rng);

            // Yi & Ji
            const yiItems = shuffledYi.slice(0, 2);
            const jiItems = shuffledJi.slice(0, 2);
            
            const yiListEl = document.getElementById('yi-list');
            yiListEl.innerHTML = '';
            yiItems.forEach(t => {
                yiListEl.innerHTML += `<li class="font-bold text-2xl text-stone-800 tracking-widest">${t}</li>`;
            });

            const jiListEl = document.getElementById('ji-list');
            jiListEl.innerHTML = '';
            jiItems.forEach(t => {
                jiListEl.innerHTML += `<li class="font-bold text-2xl text-stone-400 line-through decoration-red-500 decoration-4 tracking-widest">${t}</li>`;
            });

            // Info
            document.getElementById('direction-wealth').innerText = shuffledDir[0];
            document.getElementById('lucky-color').innerText = shuffledColor[0];
            document.getElementById('clash').innerText = shuffledClash[0];
            document.getElementById('boss-quote').innerText = `ã€Œ${shuffledQuotes[0]}ã€`;

            // Date
            const now = new Date();
            const days = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
            document.getElementById('gregorian-date').innerText = now.toISOString().split('T')[0];
            document.getElementById('weekday').innerText = `æ˜ŸæœŸ${days[now.getDay()]}`;
            
            // Fake Lunar Date (Simplification)
            // Just mapping days to a cycle for display effect
            const lunarDays = ["åˆä¸€", "åˆäºŒ", "åˆä¸‰", "åˆå››", "åˆäº”", "åˆå…­", "åˆä¸ƒ", "åˆå…«", "åˆä¹", "åˆå", 
                               "åä¸€", "åäºŒ", "åä¸‰", "åå››", "åäº”", "åå…­", "åä¸ƒ", "åå…«", "åä¹", "äºŒå",
                               "å»¿ä¸€", "å»¿äºŒ", "å»¿ä¸‰", "å»¿å››", "å»¿äº”", "å»¿å…­", "å»¿ä¸ƒ", "å»¿å…«", "å»¿ä¹", "ä¸‰å"];
            // Use the day of month roughly
            const lunarDay = lunarDays[(now.getDate() + 2) % 30]; 
            document.getElementById('lunar-date').innerText = `è¾²æ›†${now.getMonth()+1}æœˆ${lunarDay}`;
        }

        function regenerate(forceRandom) {
            if (forceRandom) {
                generate(0, true);
            } else {
                generate(getSeedFromDate(), false);
            }
        }

        function shareToday() {
            // Get content after generation
            const yiText = Array.from(document.querySelectorAll('#yi-list li')).map(e => e.innerText).join('ã€');
            const jiText = Array.from(document.querySelectorAll('#ji-list li')).map(e => e.innerText).join('ã€');
            const quote = document.getElementById('boss-quote').innerText;

            const text = `ğŸ“… è·å ´è€é»ƒæ›† ${document.getElementById('gregorian-date').innerText}\n` +
                         `å®œï¼š${yiText}\n` +
                         `å¿Œï¼š${jiText}\n` +
                         `æœ¬æ—¥é‡‘å¥ï¼š${quote}\n` +
                         `https://simonliu-moltbot.github.io/daily-web-tools/tools/office-almanac/`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'è·å ´è€é»ƒæ›†',
                    text: text,
                    url: 'https://simonliu-moltbot.github.io/daily-web-tools/tools/office-almanac/'
                });
            } else {
                navigator.clipboard.writeText(text).then(() => alert('å·²è¤‡è£½ä»Šæ—¥é‹å‹¢ï¼'));
            }
        }

        // Init
        regenerate(false);

    </script>
</body>
</html>