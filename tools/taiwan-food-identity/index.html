<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç£ç¾é£Ÿå‘³è•¾èº«åˆ†è­‰ | Taiwan Food Identity Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fef3c7; /* Amber-50 */
            background-image: radial-gradient(#fbbf24 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .option-btn {
            transition: all 0.2s;
        }
        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .option-btn:active {
            transform: translateY(0);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col text-stone-800">

    <!-- Navbar -->
    <nav class="bg-white/80 backdrop-blur-md border-b border-amber-200 sticky top-0 z-50">
        <div class="max-w-3xl mx-auto px-4 h-14 flex items-center justify-between">
            <a href="../../index.html" class="flex items-center gap-2 text-amber-700 hover:text-amber-900 transition-colors font-medium">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                </svg>
                å›é¦–é 
            </a>
            <span class="font-bold text-amber-600">ğŸ± å°ç£ç¾é£Ÿå‘³è•¾èº«åˆ†è­‰</span>
        </div>
    </nav>

    <main class="flex-1 flex items-center justify-center p-4">
        <div class="w-full max-w-lg">
            
            <!-- Start Screen -->
            <div id="start-screen" class="glass-card rounded-2xl p-8 text-center animate-fade-in">
                <div class="text-6xl mb-6">ğŸ‡¹ğŸ‡¼ğŸ‘…</div>
                <h1 class="text-3xl font-bold text-stone-800 mb-4">ä½ çš„èˆŒé ­æ˜¯å“ªè£¡äººï¼Ÿ</h1>
                <p class="text-stone-600 mb-8 leading-relaxed">
                    ä½ æ˜¯ã€Œå—éƒ¨ç²½ã€é‚„æ˜¯ã€ŒåŒ—éƒ¨ç²½ã€æ´¾ï¼Ÿ<br>
                    åƒç•ªèŒ„è¦ä¸è¦æ²¾é†¬æ²¹ï¼Ÿ<br>
                    å›ç­” 6 é“é¡Œï¼ŒAI ç«‹åˆ»åˆ†æä½ çš„<br>
                    <span class="font-bold text-amber-600">å°ç£ç¾é£Ÿéˆé­‚æ­¸å±¬åœ°</span>ï¼
                </p>
                <button onclick="startQuiz()" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-4 rounded-xl shadow-lg transform transition hover:scale-105 text-lg">
                    é–‹å§‹æ¸¬é©—
                </button>
            </div>

            <!-- Quiz Screen -->
            <div id="quiz-screen" class="hidden">
                <!-- Progress -->
                <div class="mb-6 bg-white/50 rounded-full h-3 overflow-hidden">
                    <div id="progress-bar" class="bg-amber-500 h-full transition-all duration-300" style="width: 0%"></div>
                </div>

                <!-- Question Card -->
                <div id="question-card" class="glass-card rounded-2xl p-6 sm:p-8 animate-fade-in">
                    <div class="flex items-center gap-3 mb-6">
                        <span id="q-icon" class="text-4xl">ğŸ™</span>
                        <h2 id="q-text" class="text-xl font-bold text-stone-800">é¡Œç›®è¼‰å…¥ä¸­...</h2>
                    </div>
                    <div id="options-container" class="space-y-3">
                        <!-- Options will be injected here -->
                    </div>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="result-screen" class="hidden glass-card rounded-2xl p-8 text-center animate-fade-in">
                <div class="mb-2 text-stone-500 font-medium tracking-widest uppercase">Analysis Complete</div>
                <h2 class="text-2xl text-stone-700 mb-2">ä½ çš„ç¾é£Ÿéˆé­‚å±¬æ–¼</h2>
                <div id="result-city" class="text-5xl font-black text-amber-600 mb-4 tracking-tight">è¼‰å…¥ä¸­...</div>
                <div id="result-desc" class="text-stone-600 bg-amber-50 p-4 rounded-lg mb-8 text-left leading-relaxed border border-amber-100">
                    è¼‰å…¥ä¸­...
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <button onclick="shareResult()" class="bg-stone-800 hover:bg-stone-900 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z" /></svg>
                        åˆ†äº«çµæœ
                    </button>
                    <button onclick="location.reload()" class="bg-white hover:bg-stone-50 text-stone-700 border border-stone-200 font-bold py-3 rounded-lg transition">
                        å†æ¸¬ä¸€æ¬¡
                    </button>
                </div>
            </div>

        </div>
    </main>

    <footer class="p-6 text-center text-stone-400 text-sm">
        <p>Created by AI Agent on 2026-02-09</p>
    </footer>

    <script>
        // Data
        const questions = [
            {
                id: 1,
                icon: "ğŸ™",
                text: "ç«¯åˆç¯€åˆ°äº†ï¼Œæ¡Œä¸Šé‚£é¡†ç²½å­æ‡‰è©²æ˜¯...",
                options: [
                    { text: "è’¸çš„ï¼ç²’ç²’åˆ†æ˜æ‰æ˜¯ç²½å­ (3Dæ²¹é£¯)", scores: { taipei: 2, taichung: 1 } },
                    { text: "ç…®çš„ï¼è»Ÿç³¯é»ç‰™æ‰æ˜¯ç‹é“", scores: { tainan: 2, kaohsiung: 2 } },
                    { text: "ä¸ç®¡æ˜¯è’¸æ˜¯ç…®ï¼Œåªè¦æœ‰ç”œè¾£é†¬å°±å¥½", scores: { taichung: 2 } }
                ]
            },
            {
                id: 2,
                icon: "ğŸ³",
                text: "æ—©é¤åº—çš„è·åŒ…è›‹ï¼Œä½ å …æŒè¦åŠ ä»€éº¼ï¼Ÿ",
                options: [
                    { text: "ç´”é†¬æ²¹ (æ¸…é†¬æ²¹)", scores: { taipei: 2 } },
                    { text: "é†¬æ²¹è† (ç¨ ç¨ çš„é‚£ç¨®)", scores: { tainan: 1, kaohsiung: 2 } },
                    { text: "ç•ªèŒ„é†¬ (ç´…ç´…çš„)", scores: { taichung: 1 } },
                    { text: "èƒ¡æ¤’é¹½æˆ–ä»€éº¼éƒ½ä¸åŠ ", scores: { taipei: 1 } }
                ]
            },
            {
                id: 3,
                icon: "ğŸ¥£",
                text: "èªªåˆ°ã€Œç¾¹æ¹¯ã€æˆ–ã€Œæ»·å‘³ã€ï¼Œä½ çš„ç”œåº¦æ¨™æº–æ˜¯ï¼Ÿ",
                options: [
                    { text: "é¹¹å°±æ˜¯é¹¹ï¼Œä¸è¦çµ¦æˆ‘åŠ ç³–ï¼", scores: { taipei: 3 } },
                    { text: "è¦æœ‰ä¸€é»é»å›ç”˜æ‰å¥½åƒ", scores: { kaohsiung: 1, taichung: 1 } },
                    { text: "å…¨ç³–ï¼ç”œæ‰æ˜¯ç¾å‘³çš„éˆé­‚", scores: { tainan: 3 } }
                ]
            },
            {
                id: 4,
                icon: "ğŸ…",
                text: "çœ‹åˆ°ä¸€ç›¤åˆ‡å¥½çš„å¤§ç•ªèŒ„ï¼Œä½ æœƒæƒ³æ²¾...",
                options: [
                    { text: "æ¢…å­ç²‰", scores: { taipei: 1, taichung: 1 } },
                    { text: "è–‘æ±é†¬æ²¹è†", scores: { kaohsiung: 3, tainan: 2 } },
                    { text: "ä»€éº¼æ€ªæ±è¥¿ï¼Ÿç›´æ¥åƒå•¦", scores: { taipei: 2 } }
                ]
            },
            {
                id: 5,
                icon: "ğŸŒ­",
                text: "åƒè‚‰åœ“çš„æ™‚å€™ï¼Œé€™é¡†è‚‰åœ“æ˜¯æ€éº¼ç†Ÿçš„ï¼Ÿ",
                options: [
                    { text: "å…ˆè’¸å¾Œç‚¸ï¼Œçš®è¦Qå½ˆæœ‰åš¼å‹", scores: { taichung: 2, taipei: 1 } },
                    { text: "ç´”è’¸çš„ï¼Œçš®è»Ÿè»Ÿå«©å«©æœ€å¥½åƒ", scores: { tainan: 2, kaohsiung: 2 } },
                    { text: "ç‚¸åˆ°é…¥è„†ï¼Œåƒé¤…ä¹¾ä¸€æ¨£", scores: { taichung: 1 } }
                ]
            },
            {
                id: 6,
                icon: "ğŸŒ¶ï¸",
                text: "æœ€å¾Œä¸€é¡Œï¼Œåƒç‚’éºµå¦‚æœæ²’å‘³é“ï¼Œä½ æœƒåŠ ...",
                options: [
                    { text: "æ±æ³‰è¾£æ¤’é†¬ (ç¥é†¬)", scores: { taichung: 5 } },
                    { text: "ä¸€èˆ¬è¾£æ¤’é†¬æˆ–è±†ç“£é†¬", scores: { kaohsiung: 1, taipei: 1 } },
                    { text: "çƒé†‹", scores: { taipei: 2 } },
                    { text: "ä¸ç”¨åŠ ï¼Œè€é—†æœ¬ä¾†å°±æœƒç‚’ç”œç”œçš„", scores: { tainan: 3 } }
                ]
            }
        ];

        const results = {
            taipei: {
                city: "å°åŒ— (Taipei)",
                desc: "ä½ æ˜¯æ¨™æº–çš„ã€Œå¤©é¾å‘³è•¾ã€ï¼ä½ å–œæ­¡é£Ÿç‰©ä¿æœ‰åŸå‘³ï¼Œè¨å­éåº¦çš„èª¿å‘³ï¼ˆå°¤å…¶æ˜¯ç”œå‘³ï¼‰ã€‚å°æ–¼ã€Œå—éƒ¨ç²½ã€é‚£ç§é»ç³Šç³Šçš„å£æ„Ÿå¯èƒ½æ•¬è¬ä¸æ•ã€‚ä½ è¿½æ±‚çš„æ˜¯ç²¾ç·»ã€æ¸…çˆ½èˆ‡å±¤æ¬¡æ„Ÿã€‚åƒæ±è¥¿æ¯”è¼ƒè¬›ç©¶ç’°å¢ƒèˆ‡è¡›ç”Ÿï¼Œå°æ–¼è·¯é‚Šæ”¤çš„æ¥å—åº¦çœ‹å¿ƒæƒ…ã€‚"
            },
            taichung: {
                city: "å°ä¸­ (Taichung)",
                desc: "ä½ çš„è¡€æ¶²è£¡æµè‘—ã€Œæ±æ³‰è¾£æ¤’é†¬ã€ï¼å°ä½ ä¾†èªªï¼Œç‚’éºµé…è±¬è¡€æ¹¯æ˜¯ç¶“å…¸æ—©é¤ã€‚ä½ å–œæ­¡å£å‘³é‡ä¸€é»ã€å£æ„Ÿè±å¯Œçš„é£Ÿç‰©ï¼ˆä¾‹å¦‚ç‚¸è‚‰åœ“ï¼‰ã€‚å°æ–¼é£Ÿç‰©çš„åŒ…å®¹åº¦å¾ˆé«˜ï¼Œåªè¦å¥½åƒï¼Œç®¡ä»–æ˜¯ä»€éº¼é†¬ï¼ŒåŠ ä¸‹å»å°±å°äº†ï¼"
            },
            tainan: {
                city: "å°å— (Tainan)",
                desc: "æ­å–œï¼ä½ æ˜¯å…¨ç³–å¸‚çš„æ¦®è­½å¸‚æ°‘ï¼ä½ æ·±çŸ¥ã€Œç”œã€ä¸æ˜¯èª¿å‘³ï¼Œè€Œæ˜¯ä¸€ç¨®å°ç”Ÿæ´»çš„æ…‹åº¦ã€‚ä¸ç®¡æ˜¯ç¾¹æ¹¯ã€æ»·è‚‰é£¯é‚„æ˜¯é†¬æ²¹è†ï¼Œæ²’æœ‰ä¸€é»ç”œå‘³ä½ å°±è¦ºå¾—å°‘ä¸€å‘³ã€‚ä½ å°é£Ÿç‰©æœ‰æ¥µé«˜çš„å …æŒï¼Œæœƒç‚ºäº†å–ä¸€ç¢—ç‰›è‚‰æ¹¯æ—©èµ·æ’éšŠã€‚"
            },
            kaohsiung: {
                city: "é«˜é›„ (Kaohsiung)",
                desc: "ä½ æ˜¯ç†±æƒ…çš„æ¸¯éƒ½ç¾é£Ÿå®¶ï¼ä½ å–œæ­¡è±ªé‚ã€ç›´çˆ½çš„å£å‘³ã€‚è–‘æ±ç•ªèŒ„å°ä½ ä¾†èªªæ˜¯äººé–“ç¾å‘³ï¼Œé‹ç‡’æ„éºµæ›´æ˜¯ç”Ÿå‘½ä¹‹æ°´ã€‚ä½ çš„å£å‘³åå‘å—éƒ¨ï¼ˆåç”œã€åè»Ÿï¼‰ï¼Œä½†åˆå¸¶æœ‰ä¸€é»æµ·æ´¾çš„é¹¹é¦™ã€‚æ—©é¤åƒæµ·é®®ç²¥ä¹Ÿæ˜¯å¾ˆåˆç†çš„ï¼"
            }
        };

        // State
        let currentStep = 0;
        let scores = { taipei: 0, taichung: 0, tainan: 0, kaohsiung: 0 };

        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const progressBar = document.getElementById('progress-bar');
        const qIcon = document.getElementById('q-icon');
        const qText = document.getElementById('q-text');
        const optionsContainer = document.getElementById('options-container');

        // Functions
        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentStep];
            
            // Update Progress
            const progress = ((currentStep) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;

            // Update Content
            qIcon.innerText = q.icon;
            qText.innerText = q.text;
            
            // Clear and Add Options
            optionsContainer.innerHTML = '';
            
            // Animate refresh
            const card = document.getElementById('question-card');
            card.classList.remove('animate-fade-in');
            void card.offsetWidth; // trigger reflow
            card.classList.add('animate-fade-in');

            q.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = "option-btn w-full text-left p-4 rounded-xl border border-amber-200 bg-white hover:bg-amber-50 hover:border-amber-300 font-medium text-stone-700";
                btn.innerText = opt.text;
                btn.onclick = () => handleAnswer(opt.scores);
                optionsContainer.appendChild(btn);
            });
        }

        function handleAnswer(points) {
            // Add scores
            for (const [city, value] of Object.entries(points)) {
                if (scores[city] !== undefined) {
                    scores[city] += value;
                }
            }

            // Next or Finish
            currentStep++;
            if (currentStep < questions.length) {
                renderQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            // Calculate winner
            let winner = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            
            // Render Result
            const data = results[winner];
            document.getElementById('result-city').innerText = data.city;
            document.getElementById('result-desc').innerText = data.desc;
        }

        function shareResult() {
            const city = document.getElementById('result-city').innerText;
            const text = `æ¸¬é©—çµæœï¼šæˆ‘çš„å°ç£ç¾é£Ÿéˆé­‚å±¬æ–¼ã€${city}ã€‘ï¼\nå¿«ä¾†æ¸¬æ¸¬ä½ æ˜¯å“ªè£¡äººï¼š\nhttps://simonliu-moltbot.github.io/daily-web-tools/tools/taiwan-food-identity/`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'å°ç£ç¾é£Ÿå‘³è•¾èº«åˆ†è­‰',
                    text: text,
                    url: 'https://simonliu-moltbot.github.io/daily-web-tools/tools/taiwan-food-identity/'
                });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    alert('çµæœå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼');
                });
            }
        }
    </script>
</body>
</html>