<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§‹ å°ç£æ—©é¤åº—å¤§å†°å¥¶è…¸èƒƒé æ¸¬å™¨ | Milk Tea Index</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #fffaf0; }
        .shake-animation { animation: shake 0.5s infinite; }
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="max-w-md w-full bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-400">
        <div class="bg-yellow-400 p-6 text-center">
            <h1 class="text-3xl font-bold text-gray-800">ğŸ§‹ å¤§å†°å¥¶é æ¸¬å™¨</h1>
            <p class="text-yellow-900 font-medium">æ—©é¤åº—çš„ã€Œåœ°è¡¨æœ€å¼·ç€‰è—¥ã€</p>
        </div>

        <div class="p-8 space-y-6">
            <div>
                <label class="block text-gray-700 font-bold mb-2">ğŸ¥¤ ç³–åº¦</label>
                <select id="sugar" class="w-full p-3 border-2 border-yellow-200 rounded-xl focus:border-yellow-400 outline-none">
                    <option value="1.2">å…¨ç³– (å‹‡è€…é™å®š)</option>
                    <option value="1.0" selected>åŠç³– (ç¶“å…¸é…æ–¹)</option>
                    <option value="0.8">å¾®ç³– (è‡ªæˆ‘å®‰æ…°)</option>
                    <option value="0.5">ç„¡ç³– (å¤±å»äº†éˆé­‚)</option>
                </select>
            </div>

            <div>
                <label class="block text-gray-700 font-bold mb-2">ğŸ§Š å†°å¡Š</label>
                <select id="ice" class="w-full p-3 border-2 border-yellow-200 rounded-xl focus:border-yellow-400 outline-none">
                    <option value="1.3">å¤šå†° (æ¥µé™å†·å»)</option>
                    <option value="1.1" selected>æ­£å¸¸å†° (æœ€ç©©å®šçš„å‚¬åŒ–åŠ‘)</option>
                    <option value="0.9">å°‘å†° (ç¨å¾®æº«å’Œä¸€é»)</option>
                    <option value="0.6">å»å†° (é™ä½åæ‡‰é€Ÿç‡)</option>
                </select>
            </div>

            <div>
                <label class="block text-gray-700 font-bold mb-2">ğŸŒ¡ï¸ ç•¶å‰æ°£æº«</label>
                <input type="range" id="temp" min="10" max="40" value="25" class="w-full accent-yellow-500">
                <div class="text-center text-gray-500 text-sm mt-1" id="tempValue">25Â°C</div>
            </div>

            <button onclick="calculate()" class="w-full bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-black py-4 rounded-2xl shadow-lg transition-transform active:scale-95 text-xl">
                ğŸš€ é–‹å§‹æ¨¡æ“¬è…¸èƒƒåæ‡‰
            </button>

            <div id="result" class="hidden space-y-4">
                <hr class="border-dashed border-yellow-200">
                <div class="text-center">
                    <div id="probLabel" class="text-gray-500 font-bold">é ä¼°ç™¼ä½œæ©Ÿç‡</div>
                    <div id="percentage" class="text-6xl font-black text-red-500 my-2">85%</div>
                </div>
                
                <div class="bg-red-50 p-4 rounded-2xl border-2 border-red-100">
                    <h3 class="font-bold text-red-700 mb-1" id="statusHeader">âš ï¸ è­¦æˆ’ç‹€æ…‹ï¼šéš¨æ™‚èµ·é£›</h3>
                    <p id="advice" class="text-red-600 text-sm">è«‹ç¢ºä¿æ–¹åœ“ 50 å…¬å°ºå…§æœ‰è¡›ç”Ÿç´™å……è¶³çš„å»æ‰€ã€‚å»ºè­°å–æ¶ˆæ—©ä¸Šçš„é‡è¦æœƒè­°ã€‚</p>
                </div>
            </div>
        </div>

        <div class="bg-gray-50 p-4 text-center text-xs text-gray-400">
            *åƒ…ä¾›å¨›æ¨‚ã€‚æ¯å€‹äººè…¸èƒƒå°æ—©é¤åº—å¥¶ç²¾çš„è€å—åº¦ä¸åŒã€‚
        </div>
    </div>

    <script>
        const tempInput = document.getElementById('temp');
        const tempValue = document.getElementById('tempValue');
        tempInput.addEventListener('input', () => {
            tempValue.textContent = `${tempInput.value}Â°C`;
        });

        function calculate() {
            const sugar = parseFloat(document.getElementById('sugar').value);
            const ice = parseFloat(document.getElementById('ice').value);
            const temp = parseInt(document.getElementById('temp').value);
            
            // æ—©é¤åº—å¤§å†°å¥¶æ ¸å¿ƒå…¬å¼ (å®Œå…¨è…¦æ´)
            let prob = (sugar * 30) + (ice * 25) + (temp * 0.5) + (Math.random() * 20);
            prob = Math.min(Math.round(prob), 99);

            const result = document.getElementById('result');
            const percentage = document.getElementById('percentage');
            const header = document.getElementById('statusHeader');
            const advice = document.getElementById('advice');

            result.classList.remove('hidden');
            percentage.textContent = `${prob}%`;

            if (prob < 40) {
                header.textContent = "âœ… å®‰å…¨ç‹€æ…‹ï¼šéµèƒƒå‹³ç« ";
                header.className = "font-bold text-green-700 mb-1";
                advice.textContent = "ä½ çš„è…¸èƒƒä¼¼ä¹èƒ½å¤ æ‰¿å—é€™æ³¢åŒ–å­¸è¡æ“Šã€‚ä½†é‚„æ˜¯ä¸è¦é›¢è¾¦å…¬æ¡Œå¤ªé ã€‚";
                percentage.className = "text-6xl font-black text-green-500 my-2";
            } else if (prob < 75) {
                header.textContent = "ğŸŸ¡ è­¦æˆ’ç‹€æ…‹ï¼šéš±éš±ä½œç—›";
                header.className = "font-bold text-yellow-700 mb-1";
                advice.textContent = "æ„Ÿè¦ºåˆ°äº†å§ï¼Ÿé‚£æ˜¯å¤§å†°å¥¶åœ¨è·Ÿä½ æ‰“æ‹›å‘¼ã€‚å»ºè­°å…ˆç‰©è‰²å¥½æœ€è¿‘çš„å»æ‰€ä½ç½®ã€‚";
                percentage.className = "text-6xl font-black text-yellow-500 my-2";
            } else {
                header.textContent = "ğŸ”´ æ¥µåº¦å±éšªï¼šå™´å°„é è­¦";
                header.className = "font-bold text-red-700 mb-1 shake-animation";
                advice.textContent = "å…¬å¼è¨ˆç®—é¡¯ç¤ºï¼Œä½ çš„è…¸èƒƒå³å°‡å¤±å®ˆã€‚è«‹ç«‹åˆ»æ”¾æ£„ä»»ä½•é•·é€”é€šå‹¤è¨ˆç•«ï¼Œä¸¦æº–å‚™å¥½è¡›ç”Ÿç´™ã€‚";
                percentage.className = "text-6xl font-black text-red-500 my-2";
            }
            
            result.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
