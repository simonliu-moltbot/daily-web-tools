<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°ç£å›æ”¶å¤§è€ƒé©— | Taiwan Recycling Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; touch-action: manipulation; }
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .item-card {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            animation: popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        @keyframes popIn {
            0% { transform: scale(0.5) opacity(0); }
            100% { transform: scale(1) opacity(1); }
        }
        .shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-2px, 0, 0); }
            20%, 80% { transform: translate3d(4px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-6px, 0, 0); }
            40%, 60% { transform: translate3d(6px, 0, 0); }
        }
        /* Mobile-friendly specific adjustments */
        .btn-press:active { transform: scale(0.95); }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-blue-900 to-black min-h-screen text-white flex flex-col items-center overflow-hidden relative">

    <!-- Background Decoration -->
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none">
        <div class="absolute top-10 left-10 w-64 h-64 bg-yellow-400 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"></div>
        <div class="absolute top-10 right-10 w-64 h-64 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"></div>
        <div class="absolute -bottom-8 left-20 w-64 h-64 bg-pink-400 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000"></div>
    </div>

    <!-- UI Layer -->
    <div id="app" class="z-10 w-full max-w-md h-screen flex flex-col p-4 relative">
        
        <!-- Header -->
        <header class="flex justify-between items-center mb-4">
            <a href="../../index.html" class="glass px-3 py-1 rounded-full text-xs hover:bg-white/20 transition">
                <i class="fas fa-home mr-1"></i>å›é¦–é 
            </a>
            <div class="flex items-center space-x-2">
                <span class="text-xs bg-red-500/80 px-2 py-1 rounded">å‰©é¤˜æ™‚é–“: <span class="font-mono text-lg font-bold" id="timer">60</span>s</span>
                <span class="text-xs bg-green-500/80 px-2 py-1 rounded">åˆ†æ•¸: <span class="font-mono text-lg font-bold" id="score">0</span></span>
            </div>
        </header>

        <!-- Game Area -->
        <main class="flex-grow flex flex-col justify-center items-center relative" id="game-container">
            
            <!-- Start Screen -->
            <div id="start-screen" class="absolute inset-0 flex flex-col justify-center items-center bg-black/80 z-50 text-center p-6 backdrop-blur-md">
                <div class="text-6xl mb-4">â™»ï¸</div>
                <h1 class="text-3xl font-black mb-2 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500">å°ç£å›æ”¶å¤§è€ƒé©—</h1>
                <p class="text-gray-300 mb-8 text-sm leading-relaxed">
                    é€™è£¡ä¸æ˜¯ä¸€èˆ¬åƒåœ¾å ´ï¼<br>å¦‚æœä¸å°å¿ƒæŠŠå»šé¤˜ä¸Ÿé€²ä¸€èˆ¬åƒåœ¾ï¼Œ<br>
                    <span class="text-yellow-400 font-bold">å€’åƒåœ¾é˜¿å§¨æœƒç”Ÿæ°£çªä½ ï¼</span>
                </p>
                <button onclick="startGame()" class="bg-gradient-to-r from-green-500 to-emerald-600 px-8 py-4 rounded-xl font-bold text-xl shadow-lg hover:scale-105 transition btn-press border-b-4 border-green-800">
                    <i class="fas fa-play mr-2"></i>é–‹å§‹æŒ‘æˆ°
                </button>
                <div class="mt-8 text-xs text-gray-500">
                    <p>è¦å‰‡ï¼šçœ‹åˆ°ç‰©å“å‡ºç¾ï¼Œå¿«é€Ÿé»æ“Šæ­£ç¢ºçš„åƒåœ¾æ¡¶åˆ†é¡ã€‚</p>
                </div>
            </div>

            <!-- Game Over Screen -->
            <div id="game-over-screen" class="hidden absolute inset-0 flex flex-col justify-center items-center bg-black/90 z-50 text-center p-6 backdrop-blur-md">
                <div class="text-6xl mb-4" id="end-emoji">ğŸ†</div>
                <h2 class="text-3xl font-bold mb-2 text-white">æ™‚é–“åˆ°ï¼</h2>
                <div class="glass p-6 rounded-2xl w-full mb-6">
                    <p class="text-gray-400 text-sm mb-1">æœ€çµ‚åˆ†æ•¸</p>
                    <div class="text-5xl font-black text-yellow-400 mb-2" id="final-score">0</div>
                    <p class="text-xl font-bold text-white" id="rank-title">å›æ”¶èœé³¥</p>
                    <p class="text-xs text-gray-400 mt-2" id="rank-desc">ä½ å¯èƒ½å¸¸è¢«é˜¿å§¨ç½µå–”...</p>
                </div>
                <button onclick="location.reload()" class="w-full bg-blue-600 hover:bg-blue-500 px-6 py-3 rounded-xl font-bold mb-3 btn-press">
                    <i class="fas fa-redo mr-2"></i>å†ç©ä¸€æ¬¡
                </button>
                <a href="../../index.html" class="w-full bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded-xl font-bold text-gray-300 block btn-press">
                    é›¢é–‹éŠæˆ²
                </a>
            </div>

            <!-- Reaction Area (Auntie) -->
            <div id="reaction-area" class="h-16 flex justify-center items-center mb-4 transition-all duration-200">
                <div id="auntie-face" class="text-4xl transition-transform duration-200">ğŸ‘µ</div>
                <div id="feedback-text" class="ml-3 text-lg font-bold opacity-0 transition-opacity duration-200 text-white bg-black/50 px-3 py-1 rounded-lg border border-white/20">
                    æº–å‚™å¥½äº†å—ï¼Ÿ
                </div>
            </div>

            <!-- Current Item Card -->
            <div id="item-card" class="glass w-48 h-48 rounded-3xl flex flex-col justify-center items-center mb-8 shadow-2xl border-2 border-white/10 relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none"></div>
                <div id="item-emoji" class="text-7xl mb-2 filter drop-shadow-lg">â“</div>
                <div id="item-name" class="text-xl font-bold text-center px-2">æº–å‚™é–‹å§‹</div>
                <div id="item-hint" class="text-[10px] text-gray-400 mt-1 opacity-0 transition-opacity">å°æç¤º...</div>
            </div>

            <!-- Control Buttons (Bins) -->
            <div class="w-full grid grid-cols-3 gap-3 mt-auto mb-4">
                <!-- General Trash -->
                <button onclick="checkAnswer('general')" class="btn-press group relative h-32 bg-gray-800 hover:bg-gray-700 rounded-2xl border-b-4 border-gray-950 flex flex-col items-center justify-center transition active:border-b-0 active:translate-y-1">
                    <div class="absolute -top-3 bg-gray-600 text-[10px] px-2 py-0.5 rounded-full border border-gray-500">ä¸€èˆ¬åƒåœ¾</div>
                    <div class="text-3xl mb-1 group-hover:scale-110 transition">ğŸ—‘ï¸</div>
                    <div class="text-sm font-bold text-gray-300">ä¸€èˆ¬åƒåœ¾</div>
                </button>

                <!-- Recycle -->
                <button onclick="checkAnswer('recycle')" class="btn-press group relative h-32 bg-yellow-600 hover:bg-yellow-500 rounded-2xl border-b-4 border-yellow-800 flex flex-col items-center justify-center transition active:border-b-0 active:translate-y-1">
                    <div class="absolute -top-3 bg-yellow-500 text-[10px] px-2 py-0.5 rounded-full border border-yellow-400 text-yellow-900 font-bold">è³‡æºå›æ”¶</div>
                    <div class="text-3xl mb-1 group-hover:scale-110 transition">â™»ï¸</div>
                    <div class="text-sm font-bold text-yellow-100">è³‡æºå›æ”¶</div>
                </button>

                <!-- Food Waste -->
                <button onclick="checkAnswer('food')" class="btn-press group relative h-32 bg-green-700 hover:bg-green-600 rounded-2xl border-b-4 border-green-900 flex flex-col items-center justify-center transition active:border-b-0 active:translate-y-1">
                    <div class="absolute -top-3 bg-green-500 text-[10px] px-2 py-0.5 rounded-full border border-green-400 text-green-900 font-bold">é¤Šè±¬/å †è‚¥</div>
                    <div class="text-3xl mb-1 group-hover:scale-110 transition">ğŸ¦´</div>
                    <div class="text-sm font-bold text-green-100">å»šé¤˜</div>
                </button>
            </div>

        </main>
        
        <footer class="text-center text-[10px] text-gray-500 py-2">
            Created by AI Agent â€¢ Daily Taiwan Web Tools
        </footer>

    </div>

    <script>
        // Game Data
        const ITEMS = [
            { name: "ç”¨éçš„è¡›ç”Ÿç´™", emoji: "ğŸ§»", type: "general", hint: "å¤ªé«’äº†ï¼Œä¸èƒ½å›æ”¶ï¼" },
            { name: "é›»å­ç™¼ç¥¨(æ„Ÿç†±ç´™)", emoji: "ğŸ§¾", type: "general", hint: "é€™æ˜¯æ„Ÿç†±ç´™ï¼Œä¸Šé¢æœ‰å¡—å±¤ï¼Œåªèƒ½ç•¶åƒåœ¾ï¼" },
            { name: "é¦™è•‰çš®", emoji: "ğŸŒ", type: "food", hint: "é›–ç„¶ä¸èƒ½åƒï¼Œä½†å¯ä»¥åšå †è‚¥ï¼" },
            { name: "ä¹¾æ·¨å¯¶ç‰¹ç“¶", emoji: "ğŸ§´", type: "recycle", hint: "è¨˜å¾—å£“æ‰çœç©ºé–“å–”ï¼" },
            { name: "é‹ç®”åŒ…é£²æ–™", emoji: "ğŸ§ƒ", type: "recycle", hint: "è¦æŠŠå¸ç®¡æ‹¿æ‰å–”ï¼" },
            { name: "å…æ´—ç­·", emoji: "ğŸ¥¢", type: "general", hint: "ç«¹ç­·é€šå¸¸ä¸å›æ”¶ï¼Œå› ç‚ºå¤ªæ²¹æˆ–æœ‰åŒ–å­¸è™•ç†ã€‚" },
            { name: "é›éª¨é ­(ç†Ÿ)", emoji: "food", hint: "å°åŒ—å¸‚è¦å®šï¼šè»Ÿéª¨/æ®˜æ¸£æ˜¯é¤Šè±¬å»šé¤˜ï¼" }, // Tricky one, changed to "food" based on common practice, though large bones are general. Let's make it clearer.
            { name: "å‰©é£¯å‰©èœ", emoji: "ğŸš", type: "food", hint: "é€™æ˜¯é¤Šè±¬å»šé¤˜å–”ï¼" },
            { name: "ä¿éº—é¾", emoji: "ğŸ§Š", type: "recycle", hint: "ä¿éº—é¾æ˜¯å¯ä»¥å›æ”¶çš„å–”ï¼" },
            { name: "å°¿å¸ƒ", emoji: "ğŸ‘¶", type: "general", hint: "çµ•å°æ˜¯ä¸€èˆ¬åƒåœ¾ï¼" },
            { name: "å’–å•¡æ¸£", emoji: "â˜•", type: "food", hint: "å¯ä»¥åšå †è‚¥ï¼(å †è‚¥å»šé¤˜)" },
            { name: "å¡‘è† å¸ç®¡", emoji: "ğŸ¥¤", type: "general", hint: "å¸ç®¡å¤ªå°é€šå¸¸ä¸å›æ”¶ï¼Œä¸Ÿåƒåœ¾ï¼" }, // Controversial but generally safe for game
            { name: "ç»ç’ƒå•¤é…’ç“¶", emoji: "ğŸ¾", type: "recycle", hint: "ç»ç’ƒè¦å°å¿ƒè¼•æ”¾å–”ï¼" },
            { name: "ç ´æ‰çš„é™¶ç“·ç¢—", emoji: "ğŸ¥£", type: "general", hint: "é™¶ç“·ä¸æ˜¯ç»ç’ƒï¼Œä¸èƒ½å›æ”¶ï¼" },
            { name: "ä¹¾æ·¨ç´™ç®±", emoji: "ğŸ“¦", type: "recycle", hint: "æ‹†é–‹å£“æ‰ï¼" },
            { name: "é«’æ±¡å¡‘è† è¢‹", emoji: "ğŸ›ï¸", type: "general", hint: "æœ‰æ²¹æ±¡çš„å¡‘è† è¢‹ä¸èƒ½å›æ”¶ï¼" },
            { name: "å…‰ç¢Ÿç‰‡", emoji: "ğŸ’¿", type: "recycle", hint: "é€™æ˜¯å¯å›æ”¶ç‰©å“å–”ï¼" },
            { name: "ç‰™ç·šæ£’", emoji: "ğŸ¦·", type: "general", hint: "å¤ªå°åˆæœ‰å°–åˆºï¼Œä¸Ÿåƒåœ¾ï¼" }
        ];

        // Override specific tricky items for clarity
        ITEMS[6] = { name: "å¤§éª¨é ­(ç¡¬æ®¼)", emoji: "ğŸ–", type: "general", hint: "ç¡¬éª¨é ­è±¬ä¸èƒ½åƒï¼Œä¸Ÿä¸€èˆ¬åƒåœ¾ï¼" };

        let score = 0;
        let timeLeft = 60;
        let timerInterval;
        let currentItem = null;
        let isGameActive = false;

        // Sound Effects (Web Audio API or just visual feedback)
        // Let's stick to visual feedback for simplicity

        function startGame() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('game-over-screen').classList.add('hidden');
            score = 0;
            timeLeft = 60;
            updateScore();
            updateTimer();
            isGameActive = true;
            
            spawnItem();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function spawnItem() {
            // Random item
            currentItem = ITEMS[Math.floor(Math.random() * ITEMS.length)];
            
            // Animation reset
            const card = document.getElementById('item-card');
            card.classList.remove('item-card');
            void card.offsetWidth; // trigger reflow
            card.classList.add('item-card');

            document.getElementById('item-emoji').innerText = currentItem.emoji;
            document.getElementById('item-name').innerText = currentItem.name;
            document.getElementById('item-hint').style.opacity = '0';
        }

        function checkAnswer(type) {
            if (!isGameActive) return;

            const feedback = document.getElementById('feedback-text');
            const auntie = document.getElementById('auntie-face');
            const card = document.getElementById('item-card');

            if (type === currentItem.type) {
                // Correct
                score += 10;
                feedback.innerText = "æ­£ç¢ºï¼ä¹–å­©å­ï¼";
                feedback.className = "ml-3 text-lg font-bold text-white bg-green-600/80 px-3 py-1 rounded-lg border border-green-400";
                auntie.innerText = "ğŸ‘µğŸ‘";
                // Quick next item
                setTimeout(spawnItem, 200);
            } else {
                // Wrong
                score = Math.max(0, score - 5);
                feedback.innerText = currentItem.hint; // Show educational hint
                feedback.className = "ml-3 text-xs font-bold text-white bg-red-600/90 px-3 py-1 rounded-lg border border-red-400 shake";
                auntie.innerText = "ğŸ‘µğŸ’¢";
                card.classList.add('shake');
                setTimeout(() => card.classList.remove('shake'), 500);
                // Delay next item so they can read
                setTimeout(spawnItem, 1200);
            }

            feedback.style.opacity = '1';
            updateScore();
        }

        function updateScore() {
            document.getElementById('score').innerText = score;
        }

        function updateTimer() {
            const el = document.getElementById('timer');
            el.innerText = timeLeft;
            if (timeLeft <= 10) {
                el.classList.add('text-red-500');
                el.parentElement.classList.replace('bg-green-500/80', 'bg-red-500/80');
            }
        }

        function endGame() {
            clearInterval(timerInterval);
            isGameActive = false;
            document.getElementById('game-over-screen').classList.remove('hidden');
            document.getElementById('final-score').innerText = score;

            let title = "";
            let desc = "";
            let emoji = "";

            if (score >= 250) {
                title = "â™»ï¸ ç’°ä¿ç½²é•·ç­‰ç´š";
                desc = "å¤ªå¼·äº†ï¼é€£é˜¿å§¨éƒ½æƒ³è˜è«‹ä½ ç•¶é¡§å•ï¼";
                emoji = "ğŸ‘‘";
            } else if (score >= 150) {
                title = "ğŸŒŸ å›æ”¶è³‡å„ªç”Ÿ";
                desc = "è§€å¿µå¾ˆæ­£ç¢ºå–”ï¼ç¹¼çºŒä¿æŒï¼";
                emoji = "ğŸŒŸ";
            } else if (score >= 80) {
                title = "ğŸ˜ æ™®é€šå¸‚æ°‘";
                desc = "é‚„å¯ä»¥å•¦ï¼Œä½†æœ‰äº›ç´°ç¯€è¦å†æ³¨æ„ä¸€ä¸‹ã€‚";
                emoji = "ğŸ˜";
            } else {
                title = "ğŸ’© åƒåœ¾è£½é€ æ©Ÿ";
                desc = "é˜¿å§¨å¾ˆç”Ÿæ°£ï¼ä½ æ˜¯ä¸æ˜¯éƒ½äº‚ä¸Ÿï¼Ÿ";
                emoji = "â˜ ï¸";
            }

            document.getElementById('rank-title').innerText = title;
            document.getElementById('rank-desc').innerText = desc;
            document.getElementById('end-emoji').innerText = emoji;
        }
    </script>
</body>
</html>
